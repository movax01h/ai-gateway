query GetProjectWorkItem(
    $fullPath: ID!
    $iid: String!
    $childrenPageSize: Int
    $childrenEndCursor: String
    $pageSize: Int
    $endCursor: String
) {
    project(fullPath: $fullPath) {
        workItems(iid: $iid) {
            nodes {
                author {
                    username
                }
                closedAt
                createdAt
                description
                id
                iid
                namespace {
                    fullPath
                }
                project {
                    fullPath
                }
                state
                title
                updatedAt
                workItemType {
                    name
                }
                widgets {
                    ...on WorkItemWidgetLinkedItems {
                        type
                        linkedItems {
                            nodes {
                                linkType
                                workItem {
                                    iid
                                    namespace {
                                        id
                                        fullPath
                                    }
                                    workItemType {
                                        name
                                    }
                                    title
                                    state
                                    widgets{
                                        ... on WorkItemWidgetHealthStatus {
                                            healthStatus
                                        }
                                        ... on WorkItemWidgetHierarchy {
                                            hasChildren
                                        }
                                    }
                                }
                            }
                        }
                    }
                    ...on WorkItemWidgetLabels {
                        labels {
                            nodes {
                                id
                                title
                            }
                        }
                    }
                    ...on WorkItemWidgetMilestone {
                        milestone {
                            title
                            dueDate
                        }
                    }
                    ...on WorkItemWidgetIteration {
                        iteration {
                            id
                            title
                            startDate
                            dueDate
                        }
                    }
                    ... on WorkItemWidgetStartAndDueDate {
                        dueDate
                        startDate
                        isFixed
                    }
                    ... on WorkItemWidgetHealthStatus {
                        healthStatus
                    }
                    ... on WorkItemWidgetAssignees {
                        assignees {
                            nodes {
                                username
                            }
                        }
                    }
                    ... on WorkItemWidgetStatus {
                        status {
                            name
                        }
                    }
                    ... on WorkItemWidgetHierarchy {
                        parent {
                            id
                            iid
                            namespace {
                                name
                            }
                            workItemType {
                                name
                            }
                            title
                            state
                            createdAt
                            closedAt
                            webUrl
                        }
                        children(first: $childrenPageSize, after: $childrenEndCursor) {
                            pageInfo {
                                hasNextPage
                                hasPreviousPage
                                startCursor
                                endCursor
                            }
                            count
                            nodes {
                                id
                                iid
                                workItemType {
                                    name
                                }
                                namespace {
                                    name
                                }
                                title
                                state
                                createdAt
                                closedAt
                                webUrl
                                widgets {
                                    ... on WorkItemWidgetHierarchy {
                                        hasChildren
                                    }
                                }
                            }
                        }
                        ancestors(first: $pageSize, after: $endCursor) {
                            pageInfo {
                                hasNextPage
                                hasPreviousPage
                                startCursor
                                endCursor
                            }
                            count
                            nodes {
                                id
                                iid
                                workItemType {
                                    name
                                }
                                namespace {
                                    name
                                }
                                title
                                state
                                createdAt
                                closedAt
                                webUrl
                            }
                        }
                    }
                }
            }
        }
    }
}
