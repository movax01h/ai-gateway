query GetProjectWorkItemNotes(
    $fullPath: ID!,
    $workItemIid: String!,
    $includeNoteResolvedAndResolvableFields: Boolean!,
    $includeDiscussionIdField: Boolean!
) {
    project(fullPath: $fullPath) {
        workItems(iid: $workItemIid) {
            nodes {
                widgets {
                    ... on WorkItemWidgetNotes {
                        notes {
                            nodes {
                                id
                                body
                                createdAt
                                resolvable @include(if: $includeNoteResolvedAndResolvableFields)
                                resolved @include(if: $includeNoteResolvedAndResolvableFields)
                                discussion @include(if: $includeDiscussionIdField) {
                                    id
                                }
                                author {
                                    username
                                    name
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
