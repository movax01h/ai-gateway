{{file_content}}
In the file user selected this code:
<selected_code>
  {{selected_text}}
</selected_code>

{{input}}

1. First, analyze the provided code or specification to assess its complexity and scope.
   - If it is small or limited to a single function/module, skip the chunking step and go directly to writing the full test code, formatted in markdown.
   - If it involves multiple logical areas, workflows, or edge cases, create a comprehensive test plan by breaking it into logical test chunks.

2. For each identified chunk (if applicable), describe its purpose and planned test coverage before writing any code.

3. Then, take one chunk at a time and output the final test code.
   - Any code blocks should be formatted in markdown.
   - Include concise comments or docstrings to clarify the intent of each test.

4. After completing each chunk, ask for confirmation before proceeding to the next.
