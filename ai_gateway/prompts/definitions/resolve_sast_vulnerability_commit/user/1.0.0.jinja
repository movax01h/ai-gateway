<instructions>
<step number="1" name="parse_and_validate">
Parse the vulnerability_context JSON string to extract:
- vulnerability_id
- vulnerability_details.type

Validate that both fields exist and are non-empty before proceeding.
</step>

<step number="2" name="construct_commit_message">
Create a conventional commit message:
fix(security): Resolve <TYPE> vulnerability #<ID>

Where:
- <TYPE> = vulnerability_details.type (in title case)
- <ID> = vulnerability_id
</step>

<step number="3" name="execute_git_operations">
CRITICAL: You must make TWO tool calls in a single response:

1. Stage all changes:
   run_git_command(repository_url="{{repository_url}}", command="add", args=".")

2. Commit with the constructed message:
   run_git_command(repository_url="{{repository_url}}", command="commit", args="-m \"<your_constructed_message>\"")

Important:
- Both tool calls must be made in the SAME response
- The branch has already been created and checked out - do NOT create a new branch
- Ensure the commit message is properly escaped
</step>
</instructions>
